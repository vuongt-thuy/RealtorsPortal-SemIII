@model DataAccessLayer.Models.ViewModel.ContactViewModel

@{
    ViewBag.Title = "Detail";
    Layout = "~/Areas/UserBackend/Views/Shared/_Layout.cshtml";
}

@section css {
    <link href="~/Content/toastr.css" rel="stylesheet" />
}

@section page_title { Contact}
@section breadcrumb { <a href="@Url.Action("Index", "Contact")">Contact</a> / Detail }


<div class="row">
    <!-- Start col -->
    <div class="offset-lg-2 col-lg-8 col-xl-8">
        <div class="card m-b-30">
            <div class="card-header">
                <h5 class="card-title">Contact Detail</h5>
            </div>
            <div class="card-body">
                <form>
                    @Html.HiddenFor(model => model.Id)
                    <div class="form-group row">
                        <label for="productTitle" class="col-sm-12 col-form-label">Ads Title</label>
                        <div class="col-sm-12">
                            <input type="text" name="AdsTitle" class="form-control font-20" id="AdsTitle" value="@Model.AdsTitle" readonly />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="productTitle" class="col-sm-12 col-form-label">Name Of Contact Person </label>
                        <div class="col-sm-12">
                            <input type="text" name="Name" class="form-control font-20" id="Name" value="@Model.Name" readonly />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="productTitle" class="col-sm-12 col-form-label">Email</label>
                        <div class="col-sm-12">
                            <input type="text" name="Email" class="form-control font-20" id="Email" value="@Model.Email" readonly />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="productTitle" class="col-sm-12 col-form-label">Phone</label>
                        <div class="col-sm-12">
                            <input type="text" name="Phone" class="form-control font-20" id="Phone" value="@Model.Phone" readonly />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-12 col-form-label">Message</label>
                        <div class="col-sm-12">
                            <textarea class="form-control font-20" name="Message" id="Message" rows="5" readonly>@Model.Message</textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="productTitle" class="col-sm-12 col-form-label">Created At</label>
                        <div class="col-sm-12">
                            <input type="text" name="CreatedAt" class="form-control font-20" id="CreatedAt" value="@Model.CreatedAt" readonly />
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-12">
                            <br />
                            @if (Model.Status == true)
                            {
                                <a href="javascript:void(0)" class="btn btn-success btnUpdate" data-status="false">Processed</a>
                            }
                            else
                            {
                                <a href="javascript:void(0)" class="btn btn-warning btnUpdate" data-status="true">No Processed</a>
                            }
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script src="~/Scripts/toastr.min.js"></script>
    <script>
        $(".btnUpdate").click(function () {
            var id = $("#Id").val()
            var status = $(this).data("status")

            $.ajax({
                type: "POST",
                url: "/UserBackend/Contact/Edit",
                data: { id: id, status: status },
                success: function (res) {
                    if (res.statusCode == 200) {
                        location.reload()
                    } else {
                        toastr.error(res.msg)
                    }
                }
            })
        })
    </script>
}